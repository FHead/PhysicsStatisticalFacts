<html>
   <head>
      <title>Posterior Uncertainty In The Binomial Case: Expedition</title>
      <script src="Data.json"></script>
      <script text="text/javascript">
         function UpdateResult()
         {
            var k = Number(document.getElementById("InputK").value);

            var Valid = true;

            if(typeof k !== 'number')    Valid = false;
            if(isFinite(k) == false)     Valid = false;
            if(isNaN(k) == true)         Valid = false;
            if(k !== parseInt(k, 10))    Valid = false;
            if(k < 0 || k > 1000)        Valid = false;

            if(Valid == false)
               document.getElementById("ResultK").innerHTML = "Please input a valid number and the result will be shown here!";
            else
            {
               document.getElementById("ResultK").innerHTML
                  = "The most likely value is p = " + k + "<br />"
                  + "The 68% range is [" + Min68[k] + " - " + Max68[k] + "] "
                  + "and the 95% range is [" + Min95[k] + " - " + Max95[k] + "]";
            }
         }
      </script>
      <link rel="stylesheet" type="text/css" href="style.css" />
   </head>
   <body>
      <div class="TextHolder">
         <h1>Posterior Uncertainty In The Poisson Case</h1>
         <p>Suppose there is some random process, for example couting raindrops falling in a cup.
         We observed for some amount of time, and see k drops entering the cup.  What can we say
         about the true rate p?</p>
      </div>
      <div class="PlotHolder">
         <img src="ConfidenceRange.png" />
         <p>68% and 95% range as a function of k</p>
      </div>
      <div class="PlotHolder">
         <img src="Uncertainty.png" />
         <p>Uncertainty on p as a function of k</p>
      </div>
      <div class="TextHolder">
         <h1>Technical Details</h1>
         <p>Bayesian inference is used on the Poisson distribution: P(p|x,N) ~ P(x|p,N) * Prior.
         The prior is flat between 0 and infinity.
         The 68% (or 95%) range is calculated by looking at the distribution, integrate
         the most likely regions until we reach 68% (or 95%) of the total integral of the distribution.
         While the range included the most likely value (x/N), in most cases it is asymmetrical:
         area inside the 68% below the peak is not the same as area above the peak; nor is this
         the central 68% if we stretch the distributions to a line.  Those will be different
         definitions of the 68% range, and not what is shown here</p>
      </div>
      <div class="TextHolder">
         <h1>Some Observations</h1>
         <p>Uncertainties scales roughly as 1/&radic;N, and there's an offset between positive side
         and negative side.</p>
      </div>
      <div class="TextHolder">
         <h1>Numbers for k &le; 1000</h1>
         <p>Result for any k where k &le; 1000 can be seen here.
         Please enter positive integers here</p>
         <div>
            k = <input type="number" id="InputK" onchange="UpdateResult();" />
         </div>
         <p id="ResultK">Please input a valid number and the result will be shown here!</p>
      </div>
      <div class="TextHolder">
         <p style="text-align: center;">Created and designed by FHead, Jan 13, 2016</p>
      </div>
   </body>
</html>


